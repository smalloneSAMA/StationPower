<!DOCTYPE html>
<html>
<head>
    <script src="js/jquery.min.js?v=2.1.4"></script>
    <script src="js/bootstrap.min.js?v=3.3.5"></script>
    <script src="S_js/echarts.js"></script>
    <script src="js/content.min.js?v=1.0.0"></script>
    <title>ä¸šåŠ¡å¯é æ€§é¢„æµ‹æ¡ˆä¾‹åˆ†æ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="favicon.ico">
    <link href="css/bootstrap.min.css?v=3.3.5" rel="stylesheet">
    <link href="css/font-awesome.min.css?v=4.4.0" rel="stylesheet">
    <link href="css/animate.min.css" rel="stylesheet">
    <link href="css/style.min.css?v=4.0.0" rel="stylesheet"><base target="_blank">
    <meta charset="utf-8">

    <style>
        .conn{
            width: 700px;
            height: 700px;
            margin: 10px;
            /*padding: 0 10px;*/
            float: left
        }
        .curve{
            width: 480px;
            height: 400px;
            margin: 20px 30px;
            padding: 10px 10px
            /*display: inline;*/
        }
        .fl{
            float: left
        }
        .in-line{
            display: inline
        }
        .cl{
            height: 700px;
            margin: 10px 10px 20px 10px;
        }
        .childDiv{
            float:left; width: 40%; border:2px solid lightslategray;
        }
        .buzdiv{
            width: 900px;
            height: 500px;
            margin: 20px 30px;
            padding: 10px 10px

        }
    </style>
</head>
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row  border-bottom white-bg dashboard-header">
        <div class="col-sm-12">
            <p>(1)ç»“åˆè®¾å¤‡ç”»åƒè¯¾é¢˜è¿ç”¨Weibull distributionè·å¾—çš„æ•…éšœæ¦‚ç‡å‡½æ•°ï¼š<br>
                F(ğ‘¡)=1âˆ’ğ‘’ğ‘¥ğ‘ï¼»-ã€–(ğ‘¡/( Å‹))ã€—^ğ›½],t>0,ğ›½>0,Å‹>0
                <br>
                è®¾å¤‡å¯é æ€§å‡½æ•°ä¸º: ğ‘’ğ‘¥ğ‘ï¼»-ã€–(ğ‘¡/( Å‹))ã€—^ğ›½],t>0,ğ›½>0,Å‹>0
            </p>
            <p>(2)æ ¹æ®å†å²æ•°æ®è®¡ç®—å„ç±»å‹å…‰ç¼†æ¯ç™¾å…¬é‡Œå¹³å‡å¯é æ€§
            </p>
            <p>(3)ä¸šåŠ¡å¯é æ€§æ˜¯æŒ‡åœ¨ç»™å®šçš„æ—¶é—´é—´éš”å†…ï¼Œä¸šåŠ¡èƒ½æ­£å¸¸æ‰§è¡Œçš„æ¦‚ç‡ã€‚
                <br>
                ä¸šåŠ¡å¯é æ€§ç”±æ‰¿è½½ä¸šåŠ¡çš„é€šé“å†³å®šã€‚å¯¹äºå•çº¿è·¯ä¸šåŠ¡ï¼Œå…¶ä¸šåŠ¡å¯é æ€§ä¸ºé€šé“ä¸Šæ‰€æœ‰è®¾å¤‡å¯é æ€§åŠå…‰ç¼†å¯é æ€§çš„ä¹˜ç§¯ï¼›å¯¹äºå¤šçº¿è·¯ä¸šåŠ¡ï¼Œå…¶å¯é æ€§çš„æå‡è¡¨ç°åœ¨ä¸»çº¿è·¯æ•…éšœæ¦‚ç‡ä¸å¤‡ç”¨çº¿è·¯å¯é æ€§çš„ä¹˜ç§¯ã€‚

            </p>
        </div>

    </div>
    <div class="row">
        <div class="col-sm-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>æ‰¿è½½ä¸šåŠ¡çš„é€šé“æ‹“æ‰‘å›¾</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="close-link">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content">
                    <div id="buz" class="conn"></div>
                </div>
            </div>
        </div>
    </div>
    <!--å„ä¸ªè®¾å¤‡å¯é æ€§-->
    <div class="row">
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>æ´ªæºå˜è®¾å¤‡å¯é æ€§é¢„æµ‹</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="close-link">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content">
                    <div name="eq" id="eq0" class="curve fl"></div>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>ä¹å¹³å˜è®¾å¤‡å¯é æ€§é¢„æµ‹</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="close-link">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content">
                    <div name="eq" id="eq1" class="curve fl"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>å—æ˜Œå˜è®¾å¤‡å¯é æ€§é¢„æµ‹</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="close-link">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content">
                    <div name="eq" id="eq2" class="curve fl"></div>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>æ°¸ä¿®å˜è®¾å¤‡å¯é æ€§é¢„æµ‹</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="close-link">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content">
                    <div name="eq" id="eq3" class="curve fl"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>é©¬å›å²­å˜è®¾å¤‡å¯é æ€§é¢„æµ‹</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="close-link">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content">
                    <div name="eq" id="eq4" class="curve fl"></div>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>çŸ³é’Ÿå±±å˜è®¾å¤‡å¯é æ€§é¢„æµ‹</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="close-link">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content">
                    <div name="eq" id="eq5" class="curve fl"></div>
                </div>
            </div>
        </div>
    </div>
    <!--ä¸šåŠ¡å¯é æ€§-->

    <div class="row">
        <div class="col-sm-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>è¯¥ä¸šåŠ¡çš„å¯é æ€§é¢„æµ‹</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="close-link">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content">
                    <div id="buz_r" class="buzdiv fl"></div>
                </div>
            </div>
        </div>
    </div>

</div>
<!--èµ‹å€¼START-->
<script type="text/javascript">
    var r_arr1= new Array();

    $(document).ready(function(){

        loaddata();


    });
    //æ•°æ®
    function loaddata() {
        $.ajax({
            url: "../../ExampleAnalysis/select",
            type: "post",
            dataType: "json",
            async: false,
            success: function (data) {

                SubData(data);

            },
            error: function (data) {
                if (data.result == "error") {
                    alert("å‡ºç°å¼‚å¸¸");
                }
            }
        });

    }

    //å–å‡ºå„ä¸ªç«™ç‚¹æ•°æ®
    function SubData(obj) {
        var datasub = new Array();
        var subBeta = new Array();
        var subEta = new Array();
        var Hongyuan = new Array();
        var LePing = new Array();
        var NanChang = new Array();
        var YongXiu = new Array();
        var MaHuiLing = new Array();
        var ShiZhongShan = new Array();
        var StationName = new Array();

        //è®°å½•æ¯ä¸ªç«™ç‚¹æœ€åä¸€ä¸ªID
        var length1=0,length2=0,length3=0,length4=0,length5=0,length6=0;


        $.each(obj, function (i, item) {
//            StationName[i] = item.StationName;
//            datasub[i] = item.UseTime;
//            subBeta[i] = item.Beta;
//            subEta[i] = item.Eta;
            if ('æ´ªæºå˜'==(item.StationName)) {
                Hongyuan[length1] = item.UseTime;
                length1++;
                subBeta[0] = item.Beta;
                subEta[0] = item.Eta;

            }
            else if ('ä¹å¹³å˜'==(item.StationName) ){
                LePing[length2] = item.UseTime;
                length2++;
                subBeta[1] = item.Beta;
                subEta[1] = item.Eta;

            }
            else if ('å—æ˜Œå˜'==(item.StationName)){
                NanChang[length3] = item.UseTime;
                length3++;
                subBeta[2] = item.Beta;
                subEta[2] = item.Eta;

            }
            else if ('æ°¸ä¿®å˜'==(item.StationName)) {
                YongXiu[length4] = item.UseTime;
                length4++;
                subBeta[3] = item.Beta;
                subEta[3] = item.Eta;

            }
            else if ('é©¬å›å²­å˜'==(item.StationName)) {
                MaHuiLing[length5] = item.UseTime;
                length5++;
                subBeta[4] = item.Beta;
                subEta[4] = item.Eta;
            }
            else {
                ShiZhongShan[length6] = item.UseTime;
                length6++;
                subBeta[5] = item.Beta;
                subEta[5] = item.Eta;
            }
        });


       /* var length=datasub.length;

        //å°†å„ä¸ªå˜ç”µç«™çš„æ•°æ®åˆ†åˆ«å–å‡º
        for(var i=0;i<length;i++) {

        }*/

        //æŒ‰ç…§ä»å°åˆ°å¤§æ’åº
        function sort1(Array) {
            for(var i=0;i<Array.length;i++) {
                for (var j = i; j < Array.length; j++){
                    if(Array[i]>Array[j]) {
                        var temp = Array[i];
                        Array[i] = Array[j];
                        Array[j] = temp;
                    }
                }

            }
        }
        sort1(Hongyuan);
        sort1(LePing);
        sort1(NanChang);
        sort1(YongXiu);
        sort1(MaHuiLing);
        sort1(ShiZhongShan);




    //é¡µé¢ä¸Šä¿¡æ¯
    var equipLst = new Array();
    equipLst[0] = {
        id:'227DF4CE-7EDD-4C17-B72F-17E5C8C3F5C5-52028',
        name:'æ´ªæºå˜Metro5000',
        type_name : 'å…‰ä¼ è¾“è®¾å¤‡',
        proname : 'åä¸º',
        workyear : 11,
        devtype : '10015',
        alarmTimeLst : Hongyuan,
        beta:subBeta[0],
        eta:subEta[0]
    };
    equipLst[1] = {
        id:'227DF4CE-7EDD-4C17-B72F-17E5C8C3F5C5-42722',
        name:'ä¹å¹³å˜Metro5000',
        type_name : 'å…‰ä¼ è¾“è®¾å¤‡',
        proname : 'åä¸º',
        workyear : 11,
        devtype : '10015',
        alarmTimeLst : LePing,
        beta:subBeta[1],
        eta:subEta[1]
    };
    equipLst[2] = {
        id:'227DF4CE-7EDD-4C17-B72F-17E5C8C3F5C5-53570',
        name:'å—æ˜Œå˜Metro5000',
        type_name : 'å…‰ä¼ è¾“è®¾å¤‡',
        proname : 'åä¸º',
        workyear : 11,
        devtype : '10015',
        alarmTimeLst : NanChang,
        beta:subBeta[2],
        eta:subEta[2]
    };
    equipLst[3] = {
        id:'227DF4CE-7EDD-4C17-B72F-17E5C8C3F5C5-55509',
        name:'æ°¸ä¿®å˜Metro5000',
        type_name : 'å…‰ä¼ è¾“è®¾å¤‡',
        proname : 'åä¸º',
        workyear : 11,
        devtype : '10015',
        alarmTimeLst : YongXiu,
        beta:subBeta[3],
        eta:subEta[3]
    };
    equipLst[4] = {
        id:'7109571B-DCC4-4CD3-BBD4-4EFDC2D8F49F-00057',
        name:'é©¬å›å²­å˜OptiX OSN 7500',
        type_name : 'å…‰ä¼ è¾“è®¾å¤‡',
        proname : 'åä¸º',
        workyear : 8,
        devtype : '10010',
        alarmTimeLst : MaHuiLing,
        beta:subBeta[4],
        eta:subEta[4]
    };
    equipLst[5] = {
        id:'227DF4CE-7EDD-4C17-B72F-17E5C8C3F5C5-56280',
        name:'çŸ³é’Ÿå±±å˜Metro5000',
        type_name : 'å…‰ä¼ è¾“è®¾å¤‡',
        proname : 'åä¸º',
        workyear : 11,
        devtype : '10015',
        alarmTimeLst : ShiZhongShan,
        beta:subBeta[5],
        eta:subEta[5]
    };
        Relation(equipLst);
    //                document.write(equipLst[3].proname);

        //ä¸šåŠ¡å¯é æ€§æ‹Ÿåˆæ›²çº¿æ•°æ®è®¡ç®—
    var e = Math.E;
    var r_arr = new Array();
    for (var i = 0; i <= 200; i++) {
        var r = 1;
        for (var k = 0; k < 5; k++) {
            var ETA = equipLst[k].eta;
            var BETA= equipLst[k].beta;
            r *=  Math.pow(e, -Math.pow((i / ETA), BETA));
        }
        r_arr.push([i, r]);
        r_arr1.push([i, r]);
    }

//    alert(r_arr1);

    <!--èµ‹å€¼END-->

    function getCurve(ALARMDARRAY,ETA,BETA){
        var rArray = [];
        var fArray = [];
        var dots = [];
        var n = ALARMDARRAY.length;
        var lastnode = ALARMDARRAY[n-1];
//            document.write(lastnode+"\n");
        for(var p = 0; p < n; p++){
            f = (p + 0.7)/(n + 0.4);
            var mm = ALARMDARRAY[p];
            dots.push([mm, f]);
        }
        var e = Math.E;
        for (var i = 0; i <= lastnode; i++) {
            var f =  1 - Math.pow(e,-Math.pow((i/ETA),BETA));
            var r = 1 - f;
            rArray.push([i, r]);
            fArray.push([i, f]);
        }
        return {
            'r': rArray,
            'f': fArray,
            'd': dots
        };
    }


    function getOption(data_r, data_f, dots,num) {
        var subname = equipLst[num].name;
        var option_1 = {
            title: {
                text: "è®¾å¤‡å¯é æ€§é¢„æµ‹",
                subtext: "â€”â€”" + subname,
                subtextStyle: {
                    color: "#1E90FF",
                    fontSize: 16
                },
                left: 'center'
            },
            grid:{
                x:50,
                y:100,
            },

            legend: {
                type: 'plain',
                // orient: 'vertical',
                top: 60,
                right: 60,
                data: ['å¯é æ€§æ‹Ÿåˆæ›²çº¿', 'æ•…éšœç‡æ‹Ÿåˆæ›²çº¿', 'æ•°æ®ç‚¹']
            },
            tooltip: {
                trigger: 'item',
                formatter: 'ä¸­ä½ç§© <br />{a}ï¼š{c0} æ¬¡æ¯å¹´',
                axisPointer: {
                    type: 'cross'
                }
            },
            xAxis: [
                {
                    name: 'å·¥ä½œæ—¶é•¿ï¼ˆå°æ—¶ï¼‰',
                    nameLocation: 'middle',
                    nameGap: 40,
                    nameTextStyle: {
                        fontSize: 18,
                        fontWeight: 'bold'
                    },
                    type: 'value',
                    axisTick: {
                        alignWithLabel: true
                    },
                    axisLabel: {
                        margin: 15,
                        fontSize: 14,
                        fontWeight: 'bolder'
                    },

                    splitLine: {
                        lineStyle: {
                            type: 'dashed'
                        }
                    },
                    splitNumber: 10
                }
            ],
            yAxis: {
                //            name: 'å¯é æ€§',
                type: 'value',
                nameTextStyle: {
                    fontSize: 18,
                    fontWeight: 'bold'
                },
                axisLabel: {
                    margin: 15,
                    fontSize: 14,
                    fontWeight: 'bolder'
                },
                splitLine: {
                    lineStyle: {
                        type: 'dashed'
                    }
                }
            },
            series: [{
                // coordinateSystem: 'polar',
                name: 'å¯é æ€§æ‹Ÿåˆæ›²çº¿',
                type: 'line',
                top: 'center',
                lineStyle: {
                    normal: {
                        width: 4,
                        opacity: 0.8
                    }
                },
                symbol: 'none',
                smooth: 'true',
                color: ['#3398DB'],
                data: data_r
            }, {
                // coordinateSystem: 'polar',
                name: 'æ•…éšœç‡æ‹Ÿåˆæ›²çº¿',
                type: 'line',
                lineStyle: {
                    normal: {
                        width: 2,
                        opacity: 0.8
                    }
                },
                color: ["#8B3A3A"],
                symbol: 'none',
                smooth: 'true',
                data: data_f
            }
                , {
                    name: 'æ•°æ®ç‚¹',
                    type: 'scatter',
                    itemStyle: {
                        normal: {
                            color: 'red',
                            opacity: 0.7
                        }
                    },
                    symbolSize: 15,
                    label: {
                        emphasis: {
                            show: true,
                            position: 'left',
                            textStyle: {
                                fontSize: 18
                            }
                        }
                    },
                    color: 'red',
                    data: dots
                }
            ]
        };
        return option_1;
    }


    var odiv = document.getElementById("divLst");
    var divLst = document.getElementsByName("eq");
    for(var i = 0;i < divLst.length; i++){
        var mc = echarts.init(divLst[i]);
        var alarmTimeLst = equipLst[i].alarmTimeLst;
        var beta1 = equipLst[i].beta;
        var eta1 = equipLst[i].eta;
//            document.write(typeof (alarmTimeLst));
        var d_r, d_f, d_d = new Array();
        var value = getCurve(alarmTimeLst,eta1,beta1);
//            document.write(value);
        d_r = value.r;
        d_f = value.f;
        d_d = value.d;
//            document.write(d_r+"\n" + d_d);
        option = getOption(d_r, d_f, d_d, i);
        mc.setOption(option);
    }
    //        var mc = echarts.init(odiv);
    //        var alarmTimeLst = [171.8808, 548.4536, 1577.7369];
    //        var beta1 = 0.8697;
    //        var eta1 = 897.8741;
    //        var d_r, d_f, d_d = new Array();
    //        var value = getCurve(alarmTimeLst,eta1,beta1);
    //        d_r = value.r;
    //        d_f = value.f;
    //        d_d = value.d;
    ////        document.write(d_r+"\n" + d_d);
    //        option = getOption(d_r, d_f, d_d);
    //        mc.setOption(option);

        Forecast(r_arr1);
    }

</script>

<!--å…³ç³»å›¾-->
<script type="text/javascript">

    function Relation(equipLst) {


    var myChart1 = echarts.init(document.getElementById("buz"));
    var option1={
        title:{
            text: "æ¡ˆä¾‹åˆ†æ",
            left: "center",
            subtext: "(500kVçŸ³é’Ÿå±±å˜ï½500kVæ´ªæºå˜)çŸ³æ´ªçº¿\nç»§ç”µä¿æŠ¤ä¸šåŠ¡01B",
            subtextStyle: {
                fontSize: 16,
                align: "center",
                color: "gray"
            }

        },
        tooltip: {
            show: true,
            trigger: "item",
            triggerOn: "mousemove",
//                enterable: true,
            confine: true,
            hideDelay: "200"
        },
        series: [{
            name: "è®¾å¤‡",
            type: "graph",
            layout: "circular",
            top: '40',
            width: "70%",
            symbolSize: 50,
            roam: true,
            label: {
                normal: {
                    show: true
                }
            },
            lineStyle: {
                normal: {
                    width: 5,
                    curveness: -0.1
                }
            },
            data: [{
                name: equipLst[0].name.substr(0,3),
                symbolSize: 55,
                tooltip: {
                    formatter: "è®¾å¤‡åç§°ï¼š"+equipLst[0].name
                    +"<br>è®¾å¤‡ç±»å‹ï¼š"+equipLst[0].type_name
                    +"<br>ç”Ÿäº§å‚å®¶ï¼š"+equipLst[0].proname
                    +"<br>è®¾å¤‡å‹å·ï¼š"+equipLst[0].devtype
                    +"<br>ä½¿ç”¨å¹´é™ï¼š"+equipLst[0].workyear
                }
//                    x: 300,
//                    y: 300
            }, {
                name: equipLst[1].name.substr(0,3),
                tooltip: {
                    formatter: "è®¾å¤‡åç§°ï¼š"+equipLst[1].name
                    +"<br>è®¾å¤‡ç±»å‹ï¼š"+equipLst[1].type_name
                    +"<br>ç”Ÿäº§å‚å®¶ï¼š"+equipLst[1].proname
                    +"<br>è®¾å¤‡å‹å·ï¼š"+equipLst[1].devtype
                    +"<br>ä½¿ç”¨å¹´é™ï¼š"+equipLst[1].workyear
                }
//                    x: 800,
//                    y: 300
            }, {
                name: equipLst[2].name.substr(0,3),
                tooltip: {
                    formatter: "è®¾å¤‡åç§°ï¼š"+equipLst[2].name
                    +"<br>è®¾å¤‡ç±»å‹ï¼š"+equipLst[2].type_name
                    +"<br>ç”Ÿäº§å‚å®¶ï¼š"+equipLst[2].proname
                    +"<br>è®¾å¤‡å‹å·ï¼š"+equipLst[2].devtype
                    +"<br>ä½¿ç”¨å¹´é™ï¼š"+equipLst[2].workyear
                }
//                    x: 550,
//                    y: 100
            }, {
                name: equipLst[3].name.substr(0,3),
                tooltip: {
                    formatter: "è®¾å¤‡åç§°ï¼š"+"æ°¸ä¿®å˜Metro5000"
                    +"<br>è®¾å¤‡ç±»å‹ï¼š"+"å…‰ä¼ è¾“è®¾å¤‡"
                    +"<br>ç”Ÿäº§å‚å®¶ï¼š"+"åä¸º"
                    +"<br>è®¾å¤‡å‹å·ï¼š"+'11'
                    +"<br>ä½¿ç”¨å¹´é™ï¼š"+'10015'
                }
//                    x: 550,
//                    y: 500
            }, {
                name: equipLst[4].name.substr(0,4),
                tooltip: {
                    formatter: "è®¾å¤‡åç§°ï¼š"+equipLst[4].name
                    +"<br>è®¾å¤‡ç±»å‹ï¼š"+equipLst[4].type_name
                    +"<br>ç”Ÿäº§å‚å®¶ï¼š"+equipLst[4].proname
                    +"<br>è®¾å¤‡å‹å·ï¼š"+equipLst[4].devtype
                    +"<br>ä½¿ç”¨å¹´é™ï¼š"+equipLst[4].workyear
                }
//                    x: 800,
//                    y: 300
            }, {
                name: equipLst[5].name.substr(0,4),
                symbolSize: 55,
                tooltip: {
                    formatter: "è®¾å¤‡åç§°ï¼š"+equipLst[5].name
                    +"<br>è®¾å¤‡ç±»å‹ï¼š"+equipLst[5].type_name
                    +"<br>ç”Ÿäº§å‚å®¶ï¼š"+equipLst[5].proname
                    +"<br>è®¾å¤‡å‹å·ï¼š"+equipLst[5].devtype
                    +"<br>ä½¿ç”¨å¹´é™ï¼š"+equipLst[5].workyear
                }
//                    x: 800,
//                    y: 300
            }],
            edgeLabel: {
                normal: {
                    show: true,
                    textStyle: {
                        fontSize: 12,
                        color: "#363636"
                    },
                    formatter:  "{c}",
//                            '{a|{c}}',
//                            '{b|è¿™æ®µæ–‡æœ¬é‡‡ç”¨æ ·å¼b}'
//                        ].join('\n'),
//
//                        rich: {
//                            a: {
//                                color: "#363636",
//                                lineHeight: 10
//                            },
//                            b: {
//                                fontSize: 18,
//                                fontFamily: 'Microsoft YaHei',
//                                borderColor: '#449933'
//                            }
//                        }
                }
            },
            links: [{
                source: 0,
                target: 1,
                value: '(500kVæ´ªæºå˜ï½500kVä¹å¹³å˜)\n\n24èŠ¯OPGWå…‰ç¼†æ®µ01',
                symbolSize: [5, 20]
            },{
                source: 1,
                target: 2,
                value: '(500kVå—æ˜Œå˜ï½500kVä¹å¹³å˜)\n\n16èŠ¯OPGWå…‰ç¼†æ®µ01',
                symbolSize: [5, 20]
            },{
                source: 2,
                target: 3,
                value:'(500kVå—æ˜Œå˜ï½500kVæ°¸ä¿®å˜)\n\n32èŠ¯OPGWå…‰ç¼†æ®µ01',
                symbolSize: [5, 20]
            },{
                source: 3,
                target: 4,
                value: '(500kVé©¬å›å²­å˜ï½500kVæ°¸ä¿®å˜)\n\n24èŠ¯OPGWå…‰ç¼†æ®µ01',
                symbolSize: [5, 20]
            },{
                source: 4,
                target: 5,
                value: '(500kVé©¬å›å²­å˜ï½500kVçŸ³é’Ÿå±±å˜)\n\n24èŠ¯OPGWå…‰ç¼†æ®µ01',
                symbolSize: [5, 20]
            },{
                source: 5,
                target: 6,
                symbolSize: [5, 20]
            }]
        }]
    };
    myChart1.setOption(option1);
    }

</script>

<!--ä¸šåŠ¡å¯é æ€§é¢„æµ‹-->
<script type="text/javascript">
    function Forecast(r_arr1) {


    var myChart2 = echarts.init(document.getElementById("buz_r"));
    var option_buz = {
        title: {
            text: 'ä¸šåŠ¡å¯é æ€§é¢„æµ‹',
            textStyle: {
                fontsize: 18,
                color: '#FF3030'
            },
            subtext: "(500kVçŸ³é’Ÿå±±å˜ï½500kVæ´ªæºå˜)çŸ³æ´ªçº¿\nç»§ç”µä¿æŠ¤ä¸šåŠ¡01B",
            subtextStyle: {
                color: "#1E90FF",
                fontSize: 16
            },
            left: 'center'
        },
        legend: {
            type: 'plain',
            // orient: 'vertical',
            right: 10
//            data: ['å¯é æ€§æ‹Ÿåˆæ›²çº¿', 'æ•…éšœç‡æ‹Ÿåˆæ›²çº¿', 'æ•°æ®ç‚¹']
        },
        tooltip: {
            trigger: 'item',
            formatter: 'ä¸­ä½ç§© <br />{a}ï¼š{c0} æ¬¡æ¯å¹´',
            axisPointer: {
                type: 'cross'
            }
        },
        xAxis : [
            {
                name: 'ç´¯ç§¯å·¥ä½œæ—¶é•¿ï¼ˆå°æ—¶ï¼‰',
                nameLocation: 'middle',
                nameGap: 40,
                nameTextStyle: {
                    fontSize: 16,
                    fontWeight: 'bold'
                },
                type : 'value',
                axisTick: {
                    alignWithLabel: true
                },
                axisLabel: {
                    margin: 15,
                    fontSize: 14,
                    fontWeight: 'bolder'
                },

                splitLine: {
                    lineStyle: {
                        type: 'dashed'
                    }
                },
                splitNumber: 10
            }
        ],
        yAxis: {
            name: 'ä¸šåŠ¡å¯é æ€§',
            type: 'value',
            nameTextStyle: {
                fontSize: 16,
                fontWeight: 'bold'
            },
            axisLabel: {
                margin: 15,
                fontSize: 14,
                fontWeight: 'bolder'
            },
            splitLine: {
                lineStyle: {
                    type: 'dashed'
                }
            }
        },
        grid:{
            x:50,
            y:100,
        },
        series: [{
            // coordinateSystem: 'polar',
            name: 'ä¸šåŠ¡å¯é æ€§æ‹Ÿåˆæ›²çº¿',
            type: 'line',
            lineStyle: {
                normal: {
                    width: 4,
                    opacity: 0.8
                }
            },
            symbol: 'none',
            smooth: 'true',
            color: ['#3398DB'],
            data: r_arr1
        }
        ]
    };
    myChart2.setOption(option_buz);
    }
</script>



</body>
</html>